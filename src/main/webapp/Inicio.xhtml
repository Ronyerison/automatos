<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/Layout.xhtml">

	<ui:define name="content">

		<h:form id="form" style="margin-top:30px">
			<p:growl id="messages" showDetail="true" style="margin-top:30px" />
			<h:inputHidden id="automato" value="#{homeController.nodesJson}" />
			
			<p:panel styleClass="panel-externo">
				<h:panelGrid columns="1" styleClass="panel-grid">
					<p:outputLabel for="arq" value="Arquivos AutÃ´matos:"
						styleClass="label" />
					<p:fileUpload id="arq"
						fileUploadListener="#{homeController.uploadArquivo}"
						multiple="true" mode="advanced" dragDropSupport="true"
						update=":#{p:component('form')}" sizeLimit="100000" oncomplete="visualizaAutomato()"
						/>
					
					<p:tabView value="#{homeController.tabs}" var="tab" onTabShow="visualizaAutomato()" dynamic="true">
						<p:ajax event="tabChange" listener="#{homeController.onTabChange()}"/>
						<p:tab title="#{tab.title}" closable="true" >
							<p:panel id="panel" styleClass="panel-interno" >
								<div class="paper"></div>
							</p:panel>
						</p:tab>
					</p:tabView>

				</h:panelGrid>
			</p:panel>


		</h:form>

	</ui:define>

</ui:composition>